{
  "extends": ["//"],
  "tasks": {
    "generate:api-definitions": {
      "inputs": ["openapi.yaml"],
      "outputs": ["src/generated/api/**/*"]
    },
    "generate:services-cms": {
      "inputs": ["../io-services-cms-webapp/openapi.yaml"],
      "outputs": ["src/generated/services-cms/**/*"]
    },
    "generate:selfcare-api-models": {
      "inputs": [
        "https://selfcare.pagopa.it/developer/external/v2/ms-external-api.yaml"
      ],
      "outputs": ["src/types/selfcare/**/*"]
    },
    "generate": {
      "dependsOn": [
        "generate:api-definitions",
        "generate:services-cms",
        "generate:selfcare-api-models"
      ]
    },
    "build": {
      "inputs": [
        "$TURBO_DEFAULT$",
        "!src/**/__tests__/**",
        "!.eslintrc.json",
        "!.gitignore",
        "!CHANGELOG.md",
        "!openapi.yaml",
        "!README.md",
        "!vitest.config.*"
      ],
      "dependsOn": ["generate"],
      "outputs": [".next/**", "!.next/cache/**"]
    },
    "coverage:b4f": {
      "inputs": ["src/**/*.ts", "src/**/*.tsx", "vitest.config.node.ts"],
      "dependsOn": ["build"]
    },
    "coverage:fe": {
      "inputs": ["src/**/*.ts", "src/**/*.tsx", "vitest.config.react.ts"],
      "dependsOn": ["build"]
    },
    "coverage": {
      "dependsOn": ["coverage:b4f", "coverage:fe"]
    },
    "typecheck": {
      "inputs": ["src/**/*.ts", "src/**/*.tsx", "tsconfig.json"],
      "dependsOn": ["build"]
    }
  }
}
